<!DOCTYPE html>
<html lang="en" ng-app="prototype">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>News Truck Web Application</title>

    <!-- Custom styles for this template -->
    <!-- <link href="justified-nav.css" rel="stylesheet"> -->
    <!-- Bootstrap core CSS -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href = "style.css" rel = "stylesheet">


    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="../../assets/js/ie-emulation-modes-warning.js"></script>
    <script src="masonry.pkgd.min.js"></script>
    <script src="bootstrap/js/bootstrap.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.20/angular.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/1.3.0/ui-bootstrap.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.12.1/ui-bootstrap-tpls.min.js"></script>


  </head>

  <body class="container" ng-controller="controller" >


      <!-- <img src="../../Materials/newstrucklogo.png" width="100px" height="100px"> -->
      <br>
      <div id = "titlesection">
        <span id ="titletext">
        News Truck
        </span>
      </div>
      <br><br>
      

      <!-- Example row of columns -->
      <div class = "topicsection">

        <div class="grid">
          <div class="grid-sizer"></div>
<!--
          <div class="grid-item grid-item--height3 img-wrapper">
            
            <img src="../Images/Dreamworld-title.jpg" id="image">
            <h1 class="textover">Woolloongabba Bikeway to remedy bike black spots</h1>
            <p class="lead paragraph">The son of one of the victims of Dreamworld's ride disaster saw his mother's fatal fall when the Thunder River Rapids ride malfunctioned. </p>
          </div>
-->
          <div class="grid-item grid-item--width3 grid-item--height3" id="divimage">
<!--              <a href="index2.html">-->
                <h1 class="textover">Woolloongabba Bikeway to remedy bike black spots</h1>
                  <p class="lead paragraph">Permanent separated bike lanes will be built along one of the most dangerous routes in Brisbane and now Queensland's peak cycling body has set its sights on the city's CBD....</p>
                <div class = "row foot">
                    <div class = "col-lg-3 colfoot">
                        <a onclick="scan()"><span class = 'glyphicon glyphicon-camera' id="scan">545</span></a>
                    </div>
                    <div class = "col-lg-3 colfoot">
                        <a onclick="up()">
                        <span class = 'glyphicon glyphicon-arrow-up' id="up">345</span></a>
                    </div>
                    <div class = "col-lg-3 colfoot">
                        <a onclick = "down()">
                        <span class = 'glyphicon glyphicon-arrow-down' id="down">14</span></a>
                    </div>
                    <div class = "col-lg-3">
                        <img class = "qrcode" src="../Images/qrcodebikeway.jpg">
                    </div>
                </div>
              <!-- </div> -->
            <!-- </div> -->
                  </a>
          </div>
          <div class="grid-item grid-item--height1 grid-item--width2" id="dreamdiv">
            <a onclick="commentshift()"><h4 id="commenttitle">Comment</h4></a>
          </div>
        <div class="grid-item grid-item--height1 grid-item--width2" id="dreamdiv">
            <h4 style="text-align:center;" class="commenttitle">{{comment3}}</h4>
            <p class = "commentauthor">- {{commenter3}} -</p>
<!--   
            <img src="../Images/australiagov.jpg" width="150px" height="150px">
            <p style="text-align:center;">Two parliamentarian staff were taken to hospital after ceiling panels collapsed on them inside Brisbane's Commonwealth offices, where Prime Minister Malcolm Turnbull was holding a federal cabinet meeting on Tuesday. </p>
-->
          </div>
            <div class="grid-item grid-item--height1 grid-item--width2" id="dreamdiv">
            <h4 style="text-align:center;" class="commenttitle">{{comment2}}</h4>
            <p class = "commentauthor">- {{commenter2}}-</p>
<!--
            <img src="../Images/australiagov.jpg" width="150px" height="150px">
            <p style="text-align:center;">Two parliamentarian staff were taken to hospital after ceiling panels collapsed on them inside Brisbane's Commonwealth offices, where Prime Minister Malcolm Turnbull was holding a federal cabinet meeting on Tuesday. </p>
-->
          </div>
            <div class="grid-item grid-item--height1 grid-item--width2" id="dreamdiv">
            <h4 style="text-align:center;" class="commenttitle">{{comment1}}</h4>
            <p class = "commentauthor">- {{commenter1}}-</p>
<!--
            <img src="../Images/australiagov.jpg" width="150px" height="150px">
            <p style="text-align:center;">Two parliamentarian staff were taken to hospital after ceiling panels collapsed on them inside Brisbane's Commonwealth offices, where Prime Minister Malcolm Turnbull was holding a federal cabinet meeting on Tuesday. </p>
-->
          </div>
          <div class="grid-item grid-item--height3 grid-item--width2 " id="divimage2">
<!--            <img src="../Images/milk.jpg" id="image">-->
            <h1 class="textover">Australia 'could soon be importing milk' due to $1 a litre war</h1>
            <p class="lead paragraph">Dairy farmers have warned Australia could soon be importing milk from New Zealand and other countries if the crisis enveloping the dairy industry is not addressed. </p>
            <div class = "row foot">
                    <div class = "col-lg-3 colfoot">
                        <a onclick="scan2()"><span class = 'glyphicon glyphicon-camera'  id="scan2">365</span></a>
                    </div>
                    <div class = "col-lg-3 colfoot">
                        <a onclick="up2()">
                            <span class = 'glyphicon glyphicon-arrow-up' id="up2">175</span></a>
                    </div>
                    <div class = "col-lg-3 colfoot">
                        <a onclick = "down2()">
                            <span class = 'glyphicon glyphicon-arrow-down' id="down2">25</span></a>
                    </div>
                    <div class = "col-lg-3">
                        <img class = "qrcode" src="../Images/qrcodemilk.jpg">
                    </div>
                </div>
          </div>
          <div class="grid-item grid-item--width3 grid-item--height3 " id="divimage3">
<!--            <img src="../Images/film.jpg" id="image">-->
            <h1 class="textover">Brisbane Asia Pacific Film Festival program announced</h1>
            <p class="lead paragraph">An Australian serial-killer thriller slated to be the next Wolf Creek will be one of 82 films showcased during the Brisbane Asia Pacific Film Festival next month.</p>
            <div class = "row foot">
                    <div class = "col-lg-3 colfoot">
                        <a onclick="scan3()"><span class = 'glyphicon glyphicon-camera'  id="scan3">457</span></a>
                    </div>
                    <div class = "col-lg-3 colfoot">
                        <a onclick="up3()">
                            <span class = 'glyphicon glyphicon-arrow-up' id="up3">201</span></a>
                    </div>
                    <div class = "col-lg-3 colfoot">
                        <a onclick = "down3()">
                            <span class = 'glyphicon glyphicon-arrow-down' id="down3">34</span></a>
                    </div>
                    <div class = "col-lg-3">
                        <img class = "qrcode" src="../Images/qrcodefilm.jpg">
                    </div>
                </div>
          </div>

    </div> <!-- /container -->
      </div>
    
    <!-- Site footer -->
    <footer class="footer">
        <p>&copy; 2016 Team Lumos</p>
      </footer>

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>
    <script type="text/javascript">
      var $grid = $('.grid').masonry({
        itemSelector: '.grid-item',
        columnWidth: '.grid-sizer',
        percentPosition: true
      });

      $grid.imagesLoaded().progress( function() {
      $grid.masonry();
});
    </script>
      <script type="text/javascript">
           function scan(){
                var x = parseInt(document.getElementById("scan").textContent);
                document.getElementById("scan").innerHTML = x+1;
           }
          function scan2(){
                var x = parseInt(document.getElementById("scan2").textContent);
                document.getElementById("scan2").innerHTML = x+1;
           }
          function scan3(){
                var x = parseInt(document.getElementById("scan3").textContent);
                document.getElementById("scan3").innerHTML = x+1;
           }
          function up(){
                var x = parseInt(document.getElementById("up").textContent);
                document.getElementById("up").innerHTML = x+1;
           }
          function up2(){
                var x = parseInt(document.getElementById("up2").textContent);
                document.getElementById("up2").innerHTML = x+1;
           }
          function up3(){
                var x = parseInt(document.getElementById("up3").textContent);
                document.getElementById("up3").innerHTML = x+1;
           }
          function down(){
                var x = parseInt(document.getElementById("down").textContent);
                document.getElementById("down").innerHTML = x+1;
          }
          function down2(){
                var x = parseInt(document.getElementById("down2").textContent);
                document.getElementById("down2").innerHTML = x+1;
          }function down3(){
                var x = parseInt(document.getElementById("down3").textContent);
                document.getElementById("down3").innerHTML = x+1;
          }
          function commentshift(){
                var newcomtitle2 = document.getElementById("comtitle1").textContent;
                var newcomtitle3 = document.getElementById("comtitle2").textContent;
                var newcomauth2 = document.getElementById("comauthor1").textContent;
                var newcomauth3 = document.getElementById("comauthor2").textContent;
                if(!(newcomauth2 == "- James -")){
                    document.getElementById("comtitle1").innerHTML = "Bikers need to be extra caution when they cycling.";
                    document.getElementById("comauthor1").innerHTML = "- James -";
                    document.getElementById("comtitle2").innerHTML = newcomtitle2;
                    document.getElementById("comauthor2").innerHTML = newcomauth2;
                    document.getElementById("comtitle3").innerHTML = newcomtitle3;
                    document.getElementById("comauthor3").innerHTML = newcomauth3;
                }
                
          }
      </script>

      <script>
          var proto = angular.module('prototype',['ui.bootstrap']);

        

            proto.controller('controller',['$scope','$http',function($scope,$http){

                var promiseGet = $http.get('http://54.187.85.6/gitrepodeco3801/public/comments');

                promiseGet.then(function(payload){
                    var data = payload.data.data;
                    var index = payload.data.data.length;
                  
                  var userIndex = 1;
                  var arrayIndex = index-1;

                  for(var i=0;i<3;i++){
                    $scope['comment'+userIndex] = data[arrayIndex].comment;
                    $scope['commenter'+userIndex] = data[arrayIndex].id;
                    userIndex++;
                    arrayIndex--;
                  }

                    
                });

            }]);

                  angular.element(function() {
                    angular.bootstrap(document, ['prototype']);
            });

        
    </script>

    <script type="text/javascript">
      setTimeout(function(){
        location = 'index.html'
      },15000)
    </script>

  </body>
</html>
      
